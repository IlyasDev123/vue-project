<template>
    <div class="progreess__bar--talent">
        <div class="progress__barLIne">
            <div class="blue_progress"></div>
        </div>
        <div class="progreess__barTitles_holder">
            <div class="bar__title bar__title--1 active">
                <div class="title__svgIcon">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_649_769)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 16C12.8182 16 16.3999 12.4183 16.3999 8C16.3999 3.58172 12.8182 0 8.3999 0C3.98162 0 0.399902 3.58172 0.399902 8C0.399902 12.4183 3.98162 16 8.3999 16Z" fill="white"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 12C10.609 12 12.3999 10.2091 12.3999 8C12.3999 5.79086 10.609 4 8.3999 4C6.19076 4 4.3999 5.79086 4.3999 8C4.3999 10.2091 6.19076 12 8.3999 12Z" fill="#E0E0E7"></path>
                        </g>
                        <defs>
                        <clipPath id="clip0_649_769">
                        <rect width="16" height="16" fill="white" transform="translate(0.399902)"></rect>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                Setect Role
            </div>
            <div class="bar__title bar__title--2">
                <div class="title__svgIcon">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_649_769)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 16C12.8182 16 16.3999 12.4183 16.3999 8C16.3999 3.58172 12.8182 0 8.3999 0C3.98162 0 0.399902 3.58172 0.399902 8C0.399902 12.4183 3.98162 16 8.3999 16Z" fill="white"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 12C10.609 12 12.3999 10.2091 12.3999 8C12.3999 5.79086 10.609 4 8.3999 4C6.19076 4 4.3999 5.79086 4.3999 8C4.3999 10.2091 6.19076 12 8.3999 12Z" fill="#E0E0E7"></path>
                        </g>
                        <defs>
                        <clipPath id="clip0_649_769">
                        <rect width="16" height="16" fill="white" transform="translate(0.399902)"></rect>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                Select Industry
            </div>
            <div class="bar__title bar__title--4">
                <div class="title__svgIcon">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_649_769)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 16C12.8182 16 16.3999 12.4183 16.3999 8C16.3999 3.58172 12.8182 0 8.3999 0C3.98162 0 0.399902 3.58172 0.399902 8C0.399902 12.4183 3.98162 16 8.3999 16Z" fill="white"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 12C10.609 12 12.3999 10.2091 12.3999 8C12.3999 5.79086 10.609 4 8.3999 4C6.19076 4 4.3999 5.79086 4.3999 8C4.3999 10.2091 6.19076 12 8.3999 12Z" fill="#E0E0E7"></path>
                        </g>
                        <defs>
                        <clipPath id="clip0_649_769">
                        <rect width="16" height="16" fill="white" transform="translate(0.399902)"></rect>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                Tell us More
            </div>
            <div class="bar__title bar__title--5">
                <div class="title__svgIcon">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_649_769)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 16C12.8182 16 16.3999 12.4183 16.3999 8C16.3999 3.58172 12.8182 0 8.3999 0C3.98162 0 0.399902 3.58172 0.399902 8C0.399902 12.4183 3.98162 16 8.3999 16Z" fill="white"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 12C10.609 12 12.3999 10.2091 12.3999 8C12.3999 5.79086 10.609 4 8.3999 4C6.19076 4 4.3999 5.79086 4.3999 8C4.3999 10.2091 6.19076 12 8.3999 12Z" fill="#E0E0E7"></path>
                        </g>
                        <defs>
                        <clipPath id="clip0_649_769">
                        <rect width="16" height="16" fill="white" transform="translate(0.399902)"></rect>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                Account Manager
            </div>
            <div class="bar__title bar__title--6">
                <div class="title__svgIcon">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_649_769)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 16C12.8182 16 16.3999 12.4183 16.3999 8C16.3999 3.58172 12.8182 0 8.3999 0C3.98162 0 0.399902 3.58172 0.399902 8C0.399902 12.4183 3.98162 16 8.3999 16Z" fill="white"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.3999 12C10.609 12 12.3999 10.2091 12.3999 8C12.3999 5.79086 10.609 4 8.3999 4C6.19076 4 4.3999 5.79086 4.3999 8C4.3999 10.2091 6.19076 12 8.3999 12Z" fill="#E0E0E7"></path>
                        </g>
                        <defs>
                        <clipPath id="clip0_649_769">
                        <rect width="16" height="16" fill="white" transform="translate(0.399902)"></rect>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                Review &amp; Done
            </div>
        </div>
    </div>
    <div class="regsiter_form_holder">
        <form action="#" class="d__flex d__flex-v-center d__flex-h-center">
            <fieldset class="fieldset__role role__jobseeker"  v-show="userType == this.$constants.TALENT" >
                <input type="radio" id="jobseeker" name="role" checked="">
                <div class="check__img--holder check__img--jobseeker" >
                    <label for="jobseeker">
                        <img src="@/assets/images/talent-images/job-seeker.png" alt="jobseeker">
                    </label>
                </div>
            </fieldset>
            <fieldset class="fieldset__role role__jobseeker"  v-show="userType == this.$constants.EMPLOYER">
                <!-- <input type="radio" id="jobseeker" name="role" checked=""> -->
                <div class="check__img--holder check__img--jobseeker" >
                       <label for="Employer" >
                        <img src="@/assets/images/talent-images/employer_role.png" alt="Employer">
                    </label>
                </div>
            </fieldset>
        </form>
        <h2>{{ title }}</h2>
        <div class="big__blutBtnHolder text__center">
            <router-link :to="{name:'SelectIndustry'}" class="big__blutBtn">
                Let's Get Chirrrping!
            </router-link>
        </div>
    </div>
</template>
<script>
    export default{
        name: 'GetInn',
        props:{
            title: String
        },
        created() {
            let formData = this.$functions.getLocalStorage("mutlistepfm") || [];
            this.userType = formData ? formData.type : null;

            localStorage.removeItem("hasTriedLogin");
            window.addEventListener('popstate', this.callBackFunction);
        },
        data(){
            return {
                userType : null,
            }
        },
        beforeDestroy () {
            window.removeEventListener('popstate', this.callBackFunction);
        },
        methods: {
            callBackFunction () {
                let formData = this.$functions.getLocalStorage("mutlistepfm") || [];
                if(formData.type == this.$constants.EMPLOYER && formData.social_login_id){
                    localStorage.removeItem("cv");
                    localStorage.removeItem("mutlistepfm");
                    this.$router.push("/select-role");
                }
            }
        }
    }
</script>
